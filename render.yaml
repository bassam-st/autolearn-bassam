services:
  - type: web
    name: autolearn-bassam
    env: python
    plan: starter            # يُفضّل Starter حتى لا تنام الخدمة
    region: oregon
    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements.txt
    startCommand: bash run.sh
    envVars:
      - key: AUTOLEARN_DB
        value: /data/autolearn.db
      - key: NEWS_INTERVAL_SEC
        value: 600                # 600 ثانية = 10 دقائق
      - key: HF_HOME
        value: /data/hf_cache
      - key: SENTENCE_TRANSFORMERS_HOME
        value: /data/st_cache
    disks:
      - name: data
        mountPath: /data
        sizeGB: 2
